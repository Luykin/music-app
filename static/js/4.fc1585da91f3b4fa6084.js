webpackJsonp([4],{Haw9:function(t,i,e){"use strict";var n=e("Dd8w"),s=e.n(n),a=e("/lZI"),d=e("qwAB"),A=e("m40h"),o=e("T452"),c=e("MgQs"),r=e("NYxO");i.a={data:function(){return{slider:[],discList:[],realySlider:0,recommendNowPage:0,loading:"",lazyLoop:0}},created:function(){this._getRecommend(),this._getDiscList()},methods:s()({_getRecommend:function(){var t=this;e.i(A.b)().then(function(i){if(i.code===o.a){t.realySlider=i.data.slider.concat([]),t.slider=i.data.slider;var e=t.slider.length-1;t.slider.unshift(t.slider[e]),t.slider.push(t.slider[1])}})},_lazyLoadInit:function(){this.images=document.getElementsByClassName("lazy-img"),this.lazyNumber=0,this.loading='this.src="'+e("q8kB")+'"',this.domscrollH=this.$refs.scroll.wrapH+100,this._lazyLoad()},_lazyLoad:function(){this.images[this.lazyNumber]&&this.images[this.lazyNumber].getBoundingClientRect().top<this.domscrollH&&(this.images[this.lazyNumber].src=this.images[this.lazyNumber].getAttribute("data-src"),this.images[this.lazyNumber].style.visibility="visible",this.lazyNumber++,this._lazyLoad())},_recommendY:function(t){var i=this;this.lazyNumber>this.images.length-1||t>0||window.requestAnimationFrame(function(){i._lazyLoad()})},_getDiscList:function(){var t=this;e.i(A.c)().then(function(i){i.code===o.a&&(t.discList=i.data.list,requestAnimationFrame(function(){t._lazyLoadInit()}))})},_updateNowPage:function(t){this.recommendNowPage=parseInt(t)},_selectItem:function(t){this.$router.push({path:"/recommend/"+t.dissid}),this.setDisc(t)}},e.i(r.b)({setDisc:"SET_DISC"})),components:{Slider:a.a,VScroll:d.a,VDots:c.a}}},OihH:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"recommendBody"},[e("v-scroll",{ref:"scroll",on:{updateY:t._recommendY}},[e("div",{staticClass:"recommendSlider"},[t.slider.length>0?e("Slider",{on:{sliderNowPage:t._updateNowPage}},t._l(t.slider,function(t){return e("div",[e("a",{attrs:{href:t.linkUrl}},[e("img",{attrs:{src:t.picUrl}})])])})):t._e(),t._v(" "),e("div",{staticClass:"dotsPostion"},[e("v-dots",{attrs:{dots:t.realySlider,nowPage:t.recommendNowPage}})],1)],1),t._v(" "),e("section",[t.discList.length>0?e("h1",[t._v("热门推荐榜单")]):t._e(),t._v(" "),e("ul",{staticClass:"discListUl"},[t._l(t.discList,function(i){return e("li",{on:{click:function(e){t._selectItem(i)}}},[e("div",{staticClass:"discItemLeft loading"},[e("img",{staticClass:"lazy-img",attrs:{"data-src":i.imgurl,onerror:t.loading}})]),t._v(" "),e("div",{staticClass:"discItemRight"},[e("p",{staticClass:"discCreatorName ellipsis"},[t._v(t._s(i.creator.name))]),t._v(" "),e("p",{staticClass:"discDissName ellipsis"},[t._v(t._s(i.dissname))])])])}),t._v(" "),t.discList.length>0?e("li",{attrs:{id:"footer"}},[e("span",{staticClass:"author"},[t._v("我是有底线的")]),t._v(" "),e("span",{staticClass:"email"},[t._v("email：530366891@qq.com")])]):t._e(),t._v(" "),t.discList.length<=0?e("div",{attrs:{id:"footer"}},[t._v("正在努力获取数据")]):t._e()],2)])])],1),t._v(" "),e("router-view")],1)},s=[],a={render:n,staticRenderFns:s};i.a=a},TVqk:function(t,i,e){var n=e("p311");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("1ed6c6a0",n,!0)},"W1+L":function(t,i,e){"use strict";function n(t){e("TVqk")}Object.defineProperty(i,"__esModule",{value:!0});var s=e("Haw9"),a=e("OihH"),d=e("VU/8"),A=n,o=d(s.a,a.a,A,"data-v-467dc1b0",null);i.default=o.exports},m40h:function(t,i,e){"use strict";function n(){var t=c()({},l.b,{platform:"h5",uin:0,needNewCode:1});return e.i(r.a)("https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",t,l.c)}function s(){var t=c()({},l.b,{platform:"yqq",uin:0,needNewCode:0,categoryId:1e7,sortId:5,sin:0,ein:29,hostUin:0,format:"json",rnd:Math.random()});return m.a.get("/api/getDiscList",{params:t}).then(function(t){return A.a.resolve(t.data)})}function a(t){var i=c()({},l.b,{disstid:t,type:1,json:1,utf8:1,onlysong:0,platform:"yqq",hostUin:0,needNewCode:0});return e.i(r.a)("https://c.y.qq.com/qzone/fcg-bin/fcg_ucc_getcdinfo_byids_cp.fcg",i,l.c)}i.b=n,i.c=s,i.a=a;var d=e("//Fk"),A=e.n(d),o=e("woOf"),c=e.n(o),r=e("Gak4"),l=e("T452"),h=e("mtWM"),m=e.n(h)},p311:function(t,i,e){i=t.exports=e("FZ+f")(!0),i.push([t.i,".recommendSlider[data-v-467dc1b0]{position:relative}.dotsPostion[data-v-467dc1b0]{position:absolute;bottom:5%;left:0;right:0;z-index:2}.recommendBody[data-v-467dc1b0]{position:fixed;top:88px;bottom:0;width:100%;min-width:320px;overflow:hidden;background:#222;z-index:1}.recommendBody h1[data-v-467dc1b0]{width:100%;height:65px;line-height:65px;text-align:center;font-size:14px;color:#ffcd32}.discListUl[data-v-467dc1b0]{width:100%}.discListUl li[data-v-467dc1b0]{width:100%;height:90px;overflow:hidden}.discListUl li img[data-v-467dc1b0]{display:inline;width:60px;height:60px}.discItemRight[data-v-467dc1b0]{float:right;height:100%;width:75%}.discItemLeft[data-v-467dc1b0]{float:left;height:100%;width:25%;text-align:center;line-height:90px}.discCreatorName[data-v-467dc1b0]{width:100%;height:20px;margin:5px 0 15px;color:#fff;font-size:14px;line-height:20px;text-align:left}.discDissName[data-v-467dc1b0]{width:100%;height:20px;margin:0 0 10px;color:#666;font-size:13px;line-height:20px;text-align:left}","",{version:3,sources:["E:/work/Music-application/src/components/recommend/recommend.vue"],names:[],mappings:"AACA,kCACG,iBAAmB,CACrB,AACD,8BACG,kBAAmB,AACnB,UAAW,AACX,OAAQ,AACR,QAAS,AACT,SAAW,CACb,AACD,gCACG,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,WAAY,AACZ,gBAAiB,AACjB,gBAAiB,AACjB,gBAAgB,AAChB,SAAW,CACb,AACD,mCACG,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CACjB,AACD,6BACG,UAAY,CACd,AACD,gCACG,WAAY,AACZ,YAAa,AACb,eAAiB,CACnB,AACD,oCACG,eAAgB,AAChB,WAAY,AACZ,WAAa,CACf,AACD,gCACG,YAAa,AACb,YAAa,AACb,SAAW,CACb,AACD,+BACG,WAAY,AACZ,YAAa,AACb,UAAW,AACX,kBAAmB,AACnB,gBAAkB,CACpB,AACD,kCACG,WAAY,AACZ,YAAa,AACb,kBAAqB,AACrB,WAAY,AACZ,eAAgB,AAChB,iBAAkB,AAClB,eAAiB,CACnB,AACD,+BACE,WAAY,AACZ,YAAa,AACb,gBAAmB,AACnB,WAAY,AACZ,eAAgB,AAChB,iBAAkB,AAClB,eAAiB,CAClB",file:"recommend.vue",sourcesContent:["\n.recommendSlider[data-v-467dc1b0]{\n   position: relative;\n}\n.dotsPostion[data-v-467dc1b0]{\n   position: absolute;\n   bottom: 5%;\n   left: 0;\n   right: 0;\n   z-index: 2;\n}\n.recommendBody[data-v-467dc1b0]{\n   position: fixed;\n   top: 88px;\n   bottom: 0;\n   width: 100%;\n   min-width: 320px;\n   overflow: hidden;\n   background:#222;\n   z-index: 1;\n}\n.recommendBody h1[data-v-467dc1b0]{\n   width: 100%;\n   height: 65px;\n   line-height: 65px;\n   text-align: center;\n   font-size: 14px;\n   color: #ffcd32;\n}\n.discListUl[data-v-467dc1b0]{\n   width: 100%;\n}\n.discListUl li[data-v-467dc1b0]{\n   width: 100%;\n   height: 90px;\n   overflow: hidden;\n}\n.discListUl li img[data-v-467dc1b0]{\n   display: inline;\n   width: 60px;\n   height: 60px;\n}\n.discItemRight[data-v-467dc1b0]{\n   float: right;\n   height: 100%;\n   width: 75%;\n}\n.discItemLeft[data-v-467dc1b0]{\n   float: left;\n   height: 100%;\n   width: 25%;\n   text-align: center;\n   line-height: 90px;\n}\n.discCreatorName[data-v-467dc1b0]{\n   width: 100%;\n   height: 20px;\n   margin: 5px 0 15px 0;\n   color: #fff;\n   font-size: 14px;\n   line-height: 20px;\n   text-align: left;\n}\n.discDissName[data-v-467dc1b0]{\n  width: 100%;\n  height: 20px;\n  margin: 0 0 10px 0;\n  color: #666;\n  font-size: 13px;\n  line-height: 20px;\n  text-align: left;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=4.fc1585da91f3b4fa6084.js.map